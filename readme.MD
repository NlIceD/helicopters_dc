[This data is published under an [Attribution-NonCommercial-ShareAlike 4.0 International (CC BY-NC-SA 4.0) license](https://creativecommons.org/licenses/by-nc-sa/4.0/)]

# About this story

The Washington Post story **[A low-flying
‘show of force’](https://www.washingtonpost.com/graphics/2020/investigations/helicopter-protests-washington-dc-national-guard/)** focused on two military helicopters that roared over demonstrators in Washington D.C on June 1 but this repo contains exploratory scripts used to analyze and visualize flight data for more than a dozen aircraft monitoring protesters in the city. 


# Folders of interest within this repo

* **[data](data)** - geojson, kml, csvs, shapefiles, and images detailing aircraft locations
* **[html](html)** - various maps generated with leaflet and mapbox to explore the data visually
* **[scripts](scripts)** - R scripts to process and adjust the data, as well as generate exploratory maps in 3D and in leaflet, mapbox and rayshader.
* **[tif](tif)** - Where tif files used to generated the base of 3D imagery would go. But files are too large for Github to store so this folder is blank.

# Notebooks

* [Altitude adjustment process](http://wpinvestigative.github.io/helicopters_dc/01_adsb_altitude_adjustment.html) - Exploratory visualization of data generated by models
* [Timestamps of helicopters](http://wpinvestigative.github.io/helicopters_dc/02_leaflet_helis.html) - Analyzing specific points for helicopters on June 1
* [Animated helicopter paths](http://wpinvestigative.github.io/helicopters_dc/03_mapbox_helis.html) - Analyzing lag and weekly excess deaths by state

# Methodology

**Not included in this repo:**

To calculate the approximate altitude of the Lakota helicopter above the intersection of 5th St. NW and E St., The Post used geospatial data from Open Data DC, building elevations, street widths and measurements of other street objects to create a precise scaled model of the intersection. The Post applied location and camera lens metadata from a photograph of the helicopter taken at 10:03 p.m. in the same location to a corresponding virtual camera in a 3D space, and added a model of a UH-72 Lakota helicopter to the 3D environment to match the photograph. Once the scene was set, The Post was able to determine the altitude of the Lakota helicopter at approximately 45 feet and subsequently validated the number by matching other photographs taken from different angles.

**Included in this repo:**

The Lakota broadcasted its GPS coordinates using Automatic Dependent Surveillance–Broadcast (ADS-B) technology. A network of ADS-B receivers captured the broadcasts, feeding them to the flight tracking website [ADS-B Exchange](https://www.adsbexchange.com/). The Black Hawk’s transponder, on the other hand, broadcasted its unique code without coordinates, according to James Stanford, director of operations at ADS-B Exchange. 

The Post relied on videos and photographs instead to trace the path of the Black Hawk. These location estimates for the Black Hawk are available in the data directory in GeoJSON format in three segments for which we were able to find nearly continuous video coverage: [9:50 p.m. to 9:52 p.m.](https://github.com/wpinvestigative/helicopters_dc/blob/master/data/black_hawk_points.geojson), [9:52 p.m. to 9:55 p.m.](https://github.com/wpinvestigative/helicopters_dc/blob/master/data/black_hawk_points_2.geojson) and [9:57 p.m. to 10:02 p.m.](https://github.com/wpinvestigative/helicopters_dc/blob/master/data/black_hawk_points_3.geojson).

The Lakota’s height above ground level was estimated using barometric pressure-derived altitude. As these altitude readings are relative to standard rather than local pressure, we adjusted them by adding the average difference between pressure-derived and GPS-derived altitudes for several helicopters flying over DC during the same time period. We also added an offset for the geoid height so that the altitude numbers could be compared with a LiDAR-derived bare-earth digital surface model using the North American Vertical Datum of 1988.